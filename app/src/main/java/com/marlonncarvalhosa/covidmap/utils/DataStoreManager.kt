package com.marlonncarvalhosa.covidmap.utilsimport android.content.Contextimport android.util.Logimport androidx.datastore.core.DataStoreimport androidx.datastore.dataStoreimport androidx.datastore.preferences.core.Preferencesimport androidx.datastore.preferences.core.doublePreferencesKeyimport androidx.datastore.preferences.core.editimport androidx.datastore.preferences.preferencesDataStoreimport kotlinx.coroutines.flow.Flowimport kotlinx.coroutines.flow.mapclass DataStoreManager(val context : Context) {    companion object {        private val Context.dataStore: DataStore<Preferences> by preferencesDataStore(name = "settings")        val LATITUDE = doublePreferencesKey("latitude")        val LONGITUDE = doublePreferencesKey("longitude")    }    suspend fun saveLocation(latitude : Double, longitude : Double) {        Log.d("teste", "save")        context.dataStore.edit {            it[LATITUDE] = latitude            it[LONGITUDE] = longitude        }    }    val getLatitudeFlow : Flow<Double> = context.dataStore.data.map { it[LATITUDE] ?: 0.0 }    val getLongitudeFlow : Flow<Double> = context.dataStore.data.map { it[LONGITUDE] ?: 0.0 }}